<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<title>DFA / NFA simulator</title>
	<link rel="stylesheet" href="style.css">
	<script src="libs/jQuery.min.js"></script>
	<script src="libs/sh5cf.js"></script>
	<script src="libs/vector.js"></script>
	<script src="ndfa/machine.js"></script>
	<script src="ndfa/simulator.js"></script>
	<script src="player.js"></script>
</head>
<body>
	<canvas id="canvas"></canvas>
	<div id="bottom_container">
		<ul id="input">
			<li>Loading...</li>
		</ul>
	</div>

	<aside>
		<div id="error" style="display:none;">
			Invalid DFA transition function. Every cell must be filled with a single valid state.
		</div>

		<h1 id="title"></h1>

		<i>Note: this section doesn't work yet</i>

		<dl>
			<dt>Alphabet</dt>
			<dd><input type="text" id="input_alpha" value="ab" readonly></dd><br>
			<dt>States</dt>
			<dd class="input_states trigger_update_states"><input type="text" id="input_states" value="0,1,2" readonly></dd><br>
			<dt>Start</dt>
			<dd class="input_state trigger_update_states"><input type="text" id="input_start" value="0" readonly></dd><br>
			<dt>Accept</dt>
			<dd class="input_states trigger_update_states"><input type="text" id="input_accepts" value="2" readonly></dd>
		</dl>

		<h2>Transistion Function</h2>

		<dl>
			<dt>Type</dt>
			<dd>
				<select id="input_type">
					<option value="dfa" selected>DFA</option>
					<option value="nfa">NFA</option>
				</select>
			</dd><br>
		</dl>

		<table>
			<tr>
				<th rowspan=2>q &in; Q</th>
				<th colspan=2>&alpha; &in; &sum;</th>
			</tr>
			<tr>
				<th>a</th>
				<th>b</th>
			</tr>
			<tr>
				<td>0</td>
				<td class="input_state"><input type="text" value="1"></td>
				<td class="input_state"><input type="text" value="0"></td>
			</tr>
			<tr>
				<td>1</td>
				<td class="input_state"><input type="text" value="2"></td>
				<td class="input_state"><input type="text" value="0"></td>
			</tr>
			<tr>
				<td>2</td>
				<td class="input_state"><input type="text" value="2"></td>
				<td class="input_state"><input type="text" value="0"></td>
			</tr>
		</table>

		<button id="build">Update</button>

		<h2>Simulator</h2>

		<dl>
			<dt>Input</dt>
			<dd>
				<input type="text" id="input_input" value="abaaabaa">
			</dd>
		</dl>
		<button id="simulator_start">Start</button>
	</aside>
</body>
</html>
